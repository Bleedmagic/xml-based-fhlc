CREATE TABLE roles (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    role_name TEXT NOT NULL UNIQUE
);

CREATE TABLE sqlite_sequence(name,seq);

CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT NOT NULL,
    email TEXT NOT NULL UNIQUE,
    password_hash TEXT NOT NULL,
    role_id INTEGER NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (role_id) REFERENCES roles(id)
);

INSERT INTO "roles" (id, role_name) VALUES ('1', 'admin');
INSERT INTO "roles" (id, role_name) VALUES ('2', 'guardian');

INSERT INTO "users" (id, username, email, password_hash, role_id, created_at) VALUES ('1', 'admin_test', 'admin@example.com', '$2y$10$Zy1gH3L7GyEdA4DJc9zZjuUKccf9P9SPzpAsuS1KO6X7wViQ7FlFO', '1', '2025-05-15 14:48:09');
INSERT INTO "users" (id, username, email, password_hash, role_id, created_at) VALUES ('2', 'guardian_test', 'guardian@example.com', '$2y$10$9JTeUsq0E/El7FgfJo.QoOiHzvVP35ZUsBHuAgFe5bnkuP1XxEGg6', '2', '2025-05-15 14:48:09');

